# 本地调试命令记录

## 运行环境
node: `20`

## 下载原码

- https://github.com/remvze/moodist/tags
- 现在最新发行版
- 解压到当前目录
- 重命名为 `代码`

## 汉化调试开发运行

- 容器运行
  ```bash
  docker run --rm -it --name TiaoShi --restart=no \
  -u 1000:1000 --cpus=1 --memory=4G --network host \
  -w /app -v ./代码:/app docker.code.firfe.work/node:20.19.5-alpine3.22 ash
  ```
- 设置 npm 加速
  ```bash
  echo -e "registry=https://registry.npmmirror.com" >> 代码/.npmrc
  ```
- 安装依赖
  ```bash
  npm i
  ```
- 运行
  ```bash
  npm run dev -- --host --port 1234
  ```
- 编译
  ```bash
  npm run build
  ```

## 构建镜像测试
```bash
docker run --rm -dit \
--restart=no \
--name Ce_Shi \
-p 1234:8080 \
firfe/moodist:2.4.0
```
```bash
docker rm -f Ce_Shi
```

