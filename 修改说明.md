## [astro.config.mjs](astro.config.mjs)

在6行`export default defineConfig({`后增加如下代码。让项目使用相对路径，可以使用子路径代理访问；设置监听所有网卡，指定端口，方便我本地调试。

```mjs
  // 添加这行配置来使用相对路径
  base: './',
  server: {
    host: '0.0.0.0', // 监听所有网卡
    port: 1234,      // 可选：指定端口
  },
```
21 `环境音助您专注与平静。`

## [src/components/source.astro](src/components/source.astro)

在26行源代码仓库之后添加指向本汉化仓库的按钮。

```html
      <div class="button">
        <SpecialButton href="https://github.com/Firfr/moodist-zh-cn">
          项目汉化仓库-GitHub
        </SpecialButton>
        &#12288;
        <SpecialButton href="https://gitee.com/firfe/moodist-zh-cn">
          项目汉化仓库-Gitee
        </SpecialButton>
      </div>
```

## src/layouts/layout.astro

- 28 使用相对路径

## 工具栏增加汉化仓库

### 新建文件
添加指向汉化仓库的按钮

- [src/components/toolbar/menu/items/source-zh.tsx](src/components/toolbar/menu/items/source-zh.tsx)
  ```tsx
  import { LuGithub } from 'react-icons/lu/index';
  
  import { Item } from '../item';
  
  export function Source() {
    return (
      <Item
        href="https://github.com/Firfr/moodist-zh-cn"
        icon={<LuGithub />}
        label="源代码-汉化"
      />
    );
  }
  ```
- [src/components/toolbar/menu/items/source-zh-gitee.tsx](src/components/toolbar/menu/items/source-zh-gitee.tsx)

  ```tsx
  import { LuGithub } from 'react-icons/lu/index';
  
  import { Item } from '../item';
  
  export function Source() {
    return (
      <Item
        href="https://gitee.com/firfe/moodist-zh-cn"
        icon={<LuGithub />}
        label="源代码-汉化-Gitee"
      />
    );
  }
  ```

### [src/components/toolbar/menu/items/index.ts](src/components/toolbar/menu/items/index.ts)
添加15行后，引入上面的按钮
```tsx
export { Source as SourceItemZh } from './source-zh';
export { Source as SourceItemZhGitee } from './source-zh-gitee';
```

## [src/components/toolbar/menu/menu.tsx](src/components/toolbar/menu/menu.tsx)
显示上面的按钮
- 20行后 添加 `SourceItemZh,` `SourceItemZhGitee,`
- 163行后 添加 `<SourceItemZh />` `<SourceItemZhGitee />`

## 笔记 [src/components/toolbox/notepad/notepad.tsx](src/components/toolbox/notepad/notepad.tsx)
笔记文字统计中，删除英文的s后缀

85，86行,`'s'`改成`''`
```html
{characters} 字符{characters !== 1 && ''} • {words} 词组
{words !== 1 && ''}
```

## 重写 Dockerfile


